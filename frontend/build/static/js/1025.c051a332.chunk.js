/*! For license information please see 1025.c051a332.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmevshield_pool_frontend=self.webpackChunkmevshield_pool_frontend||[]).push([[1025],{21144:(e,t,a)=>{a.d(t,{P:()=>d});var n=a(97965),r=a(3491),i=a(74074),s=a(52620),o=a(17143),c=a(84117),u=a(21774);function d(e,t){if(e.length!==t.length)throw new n.YE({expectedLength:e.length,givenLength:t.length});const a=[];for(let n=0;n<e.length;n++){const r=e[n],i=t[n];a.push(f(r,i))}return(0,s.aP)(a)}function f(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("address"===e){const e=t;if(!(0,i.P)(e))throw new r.M({address:e});return(0,o.eV)(e.toLowerCase(),{size:a?32:null})}if("string"===e)return(0,c.i3)(t);if("bytes"===e)return t;if("bool"===e)return(0,o.eV)((0,c.$P)(t),{size:a?32:1});const d=e.match(u.Ge);if(d){const[e,n,r="256"]=d,i=Number.parseInt(r,10)/8;return(0,c.cK)(t,{size:a?32:i,signed:"int"===n})}const l=e.match(u.BD);if(l){const[e,r]=l;if(Number.parseInt(r,10)!==(t.length-2)/2)throw new n.BI({expectedSize:Number.parseInt(r,10),givenSize:(t.length-2)/2});return(0,o.eV)(t,{dir:"right",size:a?32:null})}const p=e.match(u.D5);if(p&&Array.isArray(t)){const[e,a]=p,n=[];for(let r=0;r<t.length;r++)n.push(f(a,t[r],!0));return 0===n.length?"0x":(0,s.aP)(n)}throw new n.Wl(e)}},27540:(e,t,a)=>{function n(e){return new Promise((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)})}function r(e,t){const a=indexedDB.open(e);a.onupgradeneeded=()=>a.result.createObjectStore(t);const r=n(a);return(e,a)=>r.then(n=>a(n.transaction(t,e).objectStore(t)))}let i;function s(){return i||(i=r("keyval-store","keyval")),i}function o(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s())("readonly",t=>n(t.get(e)))}function c(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:s())("readwrite",a=>(a.put(t,e),n(a.transaction)))}function u(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:s())("readwrite",t=>(t.delete(e),n(t.transaction)))}function d(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s())("readwrite",e=>(e.clear(),n(e.transaction)))}function f(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},n(e.transaction)}function l(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:s())("readonly",e=>{if(e.getAllKeys)return n(e.getAllKeys());const t=[];return f(e,e=>t.push(e.key)).then(()=>t)})}a.d(t,{HP:()=>l,IU:()=>d,Jt:()=>o,hZ:()=>c,y$:()=>r,yH:()=>u})},28316:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(31376),r=a(94837),i=a(96793),s=a(52620);function o(e){const{authorization:t,factory:a,factoryData:n}=e;if("0x7702"===a||"0x7702000000000000000000000000000000000000"===a){if(!t)return"0x7702000000000000000000000000000000000000";const e=t.address;return(0,s.xW)([e,null!==n&&void 0!==n?n:"0x"])}return a?(0,s.xW)([a,null!==n&&void 0!==n?n:"0x"]):"0x"}var c=a(17143),u=a(84117);function d(e){var t,a;const{callGasLimit:n,callData:r,maxPriorityFeePerGas:i,maxFeePerGas:d,paymaster:f,paymasterData:l,paymasterPostOpGasLimit:p,paymasterVerificationGasLimit:m,sender:y,signature:g="0x",verificationGasLimit:b}=e;return{accountGasLimits:(0,s.xW)([(0,c.eV)((0,u.cK)(b||0n),{size:16}),(0,c.eV)((0,u.cK)(n||0n),{size:16})]),callData:r,initCode:o(e),gasFees:(0,s.xW)([(0,c.eV)((0,u.cK)(i||0n),{size:16}),(0,c.eV)((0,u.cK)(d||0n),{size:16})]),nonce:null!==(t=e.nonce)&&void 0!==t?t:0n,paymasterAndData:f?(0,s.xW)([f,(0,c.eV)((0,u.cK)(m||0n),{size:16}),(0,c.eV)((0,u.cK)(p||0n),{size:16}),l||"0x"]):"0x",preVerificationGas:null!==(a=e.preVerificationGas)&&void 0!==a?a:0n,sender:y,signature:g}}const f={PackedUserOperation:[{type:"address",name:"sender"},{type:"uint256",name:"nonce"},{type:"bytes",name:"initCode"},{type:"bytes",name:"callData"},{type:"bytes32",name:"accountGasLimits"},{type:"uint256",name:"preVerificationGas"},{type:"bytes32",name:"gasFees"},{type:"bytes",name:"paymasterAndData"}]};function l(e){const{chainId:t,entryPointAddress:a,entryPointVersion:s}=e,c=e.userOperation,{authorization:u,callData:l="0x",callGasLimit:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:g,paymasterAndData:b="0x",preVerificationGas:v,sender:h,verificationGasLimit:w}=c;if("0.8"===s)return(0,i.Zh)(function(e){const{chainId:t,entryPointAddress:a,userOperation:n}=e,r=d(n);return{types:f,primaryType:"PackedUserOperation",domain:{name:"ERC4337",version:"1",chainId:t,verifyingContract:a},message:r}}({chainId:t,entryPointAddress:a,userOperation:c}));const P=(()=>{if("0.6"===s){var e,t;const a=null===(e=c.initCode)||void 0===e?void 0:e.slice(0,42),i=null===(t=c.initCode)||void 0===t?void 0:t.slice(42),s=o({authorization:u,factory:a,factoryData:i});return(0,n.h)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[h,g,(0,r.S)(s),(0,r.S)(l),p,w,v,m,y,(0,r.S)(b)])}if("0.7"===s){const e=d(c);return(0,n.h)([{type:"address"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"},{type:"bytes32"},{type:"uint256"},{type:"bytes32"},{type:"bytes32"}],[e.sender,e.nonce,(0,r.S)(e.initCode),(0,r.S)(e.callData),e.accountGasLimits,e.preVerificationGas,e.gasFees,(0,r.S)(e.paymasterAndData)])}throw new Error('entryPointVersion "'.concat(s,'" not supported.'))})();return(0,r.S)((0,n.h)([{type:"bytes32"},{type:"address"},{type:"uint256"}],[(0,r.S)(P),a,BigInt(t)]))}},40684:(e,t,a)=>{a.d(t,{B9:()=>n});const n="0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"},43802:(e,t,a)=>{a.d(t,{y:()=>r});const n=e=>{let t;const a=new Set,n=(e,n)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=n?n:"object"!==typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,i={setState:n,getState:r,getInitialState:()=>s,subscribe:e=>(a.add(e),()=>a.delete(e))},s=t=e(n,r,i);return i},r=e=>e?n(e):n},52077:(e,t,a)=>{a.d(t,{hw:()=>n});const n=[{inputs:[{name:"preOpGas",type:"uint256"},{name:"paid",type:"uint256"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"targetSuccess",type:"bool"},{name:"targetResult",type:"bytes"}],name:"ExecutionResult",type:"error"},{inputs:[{name:"opIndex",type:"uint256"},{name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"}],name:"ValidationResult",type:"error"},{inputs:[{components:[{name:"preOpGas",type:"uint256"},{name:"prefund",type:"uint256"},{name:"sigFailed",type:"bool"},{name:"validAfter",type:"uint48"},{name:"validUntil",type:"uint48"},{name:"paymasterContext",type:"bytes"}],name:"returnInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"senderInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"factoryInfo",type:"tuple"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"paymasterInfo",type:"tuple"},{components:[{name:"aggregator",type:"address"},{components:[{name:"stake",type:"uint256"},{name:"unstakeDelaySec",type:"uint256"}],name:"stakeInfo",type:"tuple"}],name:"aggregatorInfo",type:"tuple"}],name:"ValidationResultWithAggregation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"factory",type:"address"},{indexed:!1,name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"totalStaked",type:"uint256"},{indexed:!1,name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"paymaster",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"success",type:"bool"},{indexed:!1,name:"actualGasCost",type:"uint256"},{indexed:!1,name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"userOpHash",type:"bytes32"},{indexed:!0,name:"sender",type:"address"},{indexed:!1,name:"nonce",type:"uint256"},{indexed:!1,name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"account",type:"address"},{indexed:!1,name:"withdrawAddress",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[],name:"SIG_VALIDATION_FAILED",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"},{name:"sender",type:"address"},{name:"paymasterAndData",type:"bytes"}],name:"_validateSenderAndPaymaster",outputs:[],stateMutability:"view",type:"function"},{inputs:[{name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"",type:"address"}],name:"deposits",outputs:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{name:"deposit",type:"uint112"},{name:"staked",type:"bool"},{name:"stake",type:"uint112"},{name:"unstakeDelaySec",type:"uint32"},{name:"withdrawTime",type:"uint48"}],name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"key",type:"uint192"}],name:"getNonce",outputs:[{name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOps",type:"tuple[]"},{name:"aggregator",type:"address"},{name:"signature",type:"bytes"}],name:"opsPerAggregator",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"ops",type:"tuple[]"},{name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"callData",type:"bytes"},{components:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"paymaster",type:"address"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"}],name:"mUserOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"prefund",type:"uint256"},{name:"contextOffset",type:"uint256"},{name:"preOpGas",type:"uint256"}],name:"opInfo",type:"tuple"},{name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"",type:"address"},{name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"op",type:"tuple"},{name:"target",type:"address"},{name:"targetCallData",type:"bytes"}],name:"simulateHandleOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"simulateValidation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"withdrawAddress",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},54893:(e,t,a)=>{a.d(t,{KU:()=>r,Zr:()=>s});var n=a(89379);function r(e,t){let a;try{a=e()}catch(n){return}return{getItem:e=>{var n;const r=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(n=a.getItem(e))?n:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,n)=>a.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>a.removeItem(e)}}const i=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then:e=>i(e)(a),catch(e){return this}}}catch(a){return{then(e){return this},catch:e=>i(e)(a)}}},s=(e,t)=>(a,s,o)=>{let c=(0,n.A)({storage:r(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>(0,n.A)((0,n.A)({},t),e)},t),u=!1;const d=new Set,f=new Set;let l=c.storage;if(!l)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(c.name,"', the given storage is currently unavailable.")),a(...arguments)},s,o);const p=()=>{const e=c.partialize((0,n.A)({},s()));return l.setItem(c.name,{state:e,version:c.version})},m=o.setState;o.setState=(e,t)=>{m(e,t),p()};const y=e(function(){a(...arguments),p()},s,o);let g;o.getInitialState=()=>y;const b=()=>{var e,t;if(!l)return;u=!1,d.forEach(e=>{var t;return e(null!=(t=s())?t:y)});const n=(null==(t=c.onRehydrateStorage)?void 0:t.call(c,null!=(e=s())?e:y))||void 0;return i(l.getItem.bind(l))(c.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===c.version)return[!1,e.state];if(c.migrate){const t=c.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[n,r]=e;if(g=c.merge(r,null!=(t=s())?t:y),a(g,!0),n)return p()}).then(()=>{null==n||n(g,void 0),g=s(),u=!0,f.forEach(e=>e(g))}).catch(e=>{null==n||n(void 0,e)})};return o.persist={setOptions:e=>{c=(0,n.A)((0,n.A)({},c),e),e.storage&&(l=e.storage)},clearStorage:()=>{null==l||l.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>b(),hasHydrated:()=>u,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(f.add(e),()=>{f.delete(e)})},c.skipHydration||b(),g||y}},56246:(e,t,a)=>{a.d(t,{M:()=>Fe});var n=a(89379),r=a(60993),i=a(68553),s=a(64034),o=a(76432),c=a(48083),u=a(93692),d=a(53986),f=a(21627),l=a(87942),p=a(74745);class m extends f.C{constructor(e){let{cause:t}=e;super("Smart Account is not deployed.",{cause:t,metaMessages:["This could arise when:","- No `factory`/`factoryData` or `initCode` properties are provided for Smart Account deployment.","- An incorrect `sender` address is provided."],name:"AccountNotDeployedError"})}}Object.defineProperty(m,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa20/});class y extends f.C{constructor(){var e;let{cause:t,data:a,message:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===n||void 0===n||null===(e=n.replace("execution reverted: ",""))||void 0===e?void 0:e.replace("execution reverted","");super("Execution reverted ".concat(r?"with reason: ".concat(r):"for an unknown reason","."),{cause:t,name:"ExecutionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32521}),Object.defineProperty(y,"message",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class g extends f.C{constructor(e){let{cause:t}=e;super("Failed to send funds to beneficiary.",{cause:t,name:"FailedToSendToBeneficiaryError"})}}Object.defineProperty(g,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa91/});class b extends f.C{constructor(e){let{cause:t}=e;super("Gas value overflowed.",{cause:t,metaMessages:["This could arise when:","- one of the gas values exceeded 2**120 (uint120)"].filter(Boolean),name:"GasValuesOverflowError"})}}Object.defineProperty(b,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa94/});class v extends f.C{constructor(e){let{cause:t}=e;super("The `handleOps` function was called by the Bundler with a gas limit too low.",{cause:t,name:"HandleOpsOutOfGasError"})}}Object.defineProperty(v,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa95/});class h extends f.C{constructor(e){let{cause:t,factory:a,factoryData:n,initCode:r}=e;super("Failed to simulate deployment for Smart Account.",{cause:t,metaMessages:["This could arise when:","- Invalid `factory`/`factoryData` or `initCode` properties are present","- Smart Account deployment execution ran out of gas (low `verificationGasLimit` value)","- Smart Account deployment execution reverted with an error\n",a&&"factory: ".concat(a),n&&"factoryData: ".concat(n),r&&"initCode: ".concat(r)].filter(Boolean),name:"InitCodeFailedError"})}}Object.defineProperty(h,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa13/});class w extends f.C{constructor(e){let{cause:t,factory:a,factoryData:n,initCode:r}=e;super("Smart Account initialization implementation did not create an account.",{cause:t,metaMessages:["This could arise when:","- `factory`/`factoryData` or `initCode` properties are invalid","- Smart Account initialization implementation is incorrect\n",a&&"factory: ".concat(a),n&&"factoryData: ".concat(n),r&&"initCode: ".concat(r)].filter(Boolean),name:"InitCodeMustCreateSenderError"})}}Object.defineProperty(w,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa15/});class P extends f.C{constructor(e){let{cause:t,factory:a,factoryData:n,initCode:r,sender:i}=e;super("Smart Account initialization implementation does not return the expected sender.",{cause:t,metaMessages:["This could arise when:","Smart Account initialization implementation does not return a sender address\n",a&&"factory: ".concat(a),n&&"factoryData: ".concat(n),r&&"initCode: ".concat(r),i&&"sender: ".concat(i)].filter(Boolean),name:"InitCodeMustReturnSenderError"})}}Object.defineProperty(P,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa14/});class x extends f.C{constructor(e){let{cause:t}=e;super("Smart Account does not have sufficient funds to execute the User Operation.",{cause:t,metaMessages:["This could arise when:","- the Smart Account does not have sufficient funds to cover the required prefund, or","- a Paymaster was not provided"].filter(Boolean),name:"InsufficientPrefundError"})}}Object.defineProperty(x,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa21/});class G extends f.C{constructor(e){let{cause:t}=e;super("Bundler attempted to call an invalid function on the EntryPoint.",{cause:t,name:"InternalCallOnlyError"})}}Object.defineProperty(G,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa92/});class O extends f.C{constructor(e){let{cause:t}=e;super("Bundler used an invalid aggregator for handling aggregated User Operations.",{cause:t,name:"InvalidAggregatorError"})}}Object.defineProperty(O,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa96/});class A extends f.C{constructor(e){let{cause:t,nonce:a}=e;super("Invalid Smart Account nonce used for User Operation.",{cause:t,metaMessages:[a&&"nonce: ".concat(a)].filter(Boolean),name:"InvalidAccountNonceError"})}}Object.defineProperty(A,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa25/});class C extends f.C{constructor(e){let{cause:t}=e;super("Bundler has not set a beneficiary address.",{cause:t,name:"InvalidBeneficiaryError"})}}Object.defineProperty(C,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa90/});class D extends f.C{constructor(e){let{cause:t}=e;super("Invalid fields set on User Operation.",{cause:t,name:"InvalidFieldsError"})}}Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class I extends f.C{constructor(e){let{cause:t,paymasterAndData:a}=e;super("Paymaster properties provided are invalid.",{cause:t,metaMessages:["This could arise when:","- the `paymasterAndData` property is of an incorrect length\n",a&&"paymasterAndData: ".concat(a)].filter(Boolean),name:"InvalidPaymasterAndDataError"})}}Object.defineProperty(I,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa93/});class L extends f.C{constructor(e){let{cause:t}=e;super("Paymaster deposit for the User Operation is too low.",{cause:t,metaMessages:["This could arise when:","- the Paymaster has deposited less than the expected amount via the `deposit` function"].filter(Boolean),name:"PaymasterDepositTooLowError"})}}Object.defineProperty(L,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32508}),Object.defineProperty(L,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa31/});class S extends f.C{constructor(e){let{cause:t}=e;super("The `validatePaymasterUserOp` function on the Paymaster reverted.",{cause:t,name:"PaymasterFunctionRevertedError"})}}Object.defineProperty(S,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa33/});class U extends f.C{constructor(e){let{cause:t}=e;super("The Paymaster contract has not been deployed.",{cause:t,name:"PaymasterNotDeployedError"})}}Object.defineProperty(U,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa30/});class F extends f.C{constructor(e){let{cause:t}=e;super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterRateLimitError"})}}Object.defineProperty(F,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32504});class B extends f.C{constructor(e){let{cause:t}=e;super("UserOperation rejected because paymaster (or signature aggregator) is throttled/banned.",{cause:t,name:"PaymasterStakeTooLowError"})}}Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32505});class V extends f.C{constructor(e){let{cause:t}=e;super("Paymaster `postOp` function reverted.",{cause:t,name:"PaymasterPostOpFunctionRevertedError"})}}Object.defineProperty(V,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa50/});class E extends f.C{constructor(e){let{cause:t,factory:a,factoryData:n,initCode:r}=e;super("Smart Account has already been deployed.",{cause:t,metaMessages:["Remove the following properties and try again:",a&&"`factory`",n&&"`factoryData`",r&&"`initCode`"].filter(Boolean),name:"SenderAlreadyConstructedError"})}}Object.defineProperty(E,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa10/});class j extends f.C{constructor(e){let{cause:t}=e;super("UserOperation rejected because account signature check failed (or paymaster signature, if the paymaster uses its data as signature).",{cause:t,name:"SignatureCheckFailedError"})}}Object.defineProperty(j,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32507});class k extends f.C{constructor(e){let{cause:t}=e;super("The `validateUserOp` function on the Smart Account reverted.",{cause:t,name:"SmartAccountFunctionRevertedError"})}}Object.defineProperty(k,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa23/});class T extends f.C{constructor(e){let{cause:t}=e;super("UserOperation rejected because account specified unsupported signature aggregator.",{cause:t,name:"UnsupportedSignatureAggregatorError"})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32506});class M extends f.C{constructor(e){let{cause:t}=e;super("User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validateUserOp` on the Smart Account are not satisfied"].filter(Boolean),name:"UserOperationExpiredError"})}}Object.defineProperty(M,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa22/});class z extends f.C{constructor(e){let{cause:t}=e;super("Paymaster for User Operation expired.",{cause:t,metaMessages:["This could arise when:","- the `validAfter` or `validUntil` values returned from `validatePaymasterUserOp` on the Paymaster are not satisfied"].filter(Boolean),name:"UserOperationPaymasterExpiredError"})}}Object.defineProperty(z,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa32/});class N extends f.C{constructor(e){let{cause:t}=e;super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Smart Account"].filter(Boolean),name:"UserOperationSignatureError"})}}Object.defineProperty(N,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa24/});class K extends f.C{constructor(e){let{cause:t}=e;super("Signature provided for the User Operation is invalid.",{cause:t,metaMessages:["This could arise when:","- the `signature` for the User Operation is incorrectly computed, and unable to be verified by the Paymaster"].filter(Boolean),name:"UserOperationPaymasterSignatureError"})}}Object.defineProperty(K,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa34/});class R extends f.C{constructor(e){let{cause:t}=e;super("User Operation rejected by EntryPoint's `simulateValidation` during account creation or validation.",{cause:t,name:"UserOperationRejectedByEntryPointError"})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32500});class H extends f.C{constructor(e){let{cause:t}=e;super("User Operation rejected by Paymaster's `validatePaymasterUserOp`.",{cause:t,name:"UserOperationRejectedByPaymasterError"})}}Object.defineProperty(H,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32501});class _ extends f.C{constructor(e){let{cause:t}=e;super("User Operation rejected with op code validation error.",{cause:t,name:"UserOperationRejectedByOpCodeError"})}}Object.defineProperty(_,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32502});class q extends f.C{constructor(e){let{cause:t}=e;super("UserOperation out of time-range: either wallet or paymaster returned a time-range, and it is already expired (or will expire soon).",{cause:t,name:"UserOperationOutOfTimeRangeError"})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32503});class W extends f.C{constructor(e){let{cause:t}=e;super("An error occurred while executing user operation: ".concat(null===t||void 0===t?void 0:t.shortMessage),{cause:t,name:"UnknownBundlerError"})}}class J extends f.C{constructor(e){let{cause:t}=e;super("User Operation verification gas limit exceeded.",{cause:t,metaMessages:["This could arise when:","- the gas used for verification exceeded the `verificationGasLimit`"].filter(Boolean),name:"VerificationGasLimitExceededError"})}}Object.defineProperty(J,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa40/});class Z extends f.C{constructor(e){let{cause:t}=e;super("User Operation verification gas limit is too low.",{cause:t,metaMessages:["This could arise when:","- the `verificationGasLimit` is too low to verify the User Operation"].filter(Boolean),name:"VerificationGasLimitTooLowError"})}}Object.defineProperty(Z,"message",{enumerable:!0,configurable:!0,writable:!0,value:/aa41/});var Q=a(83003),$=a(4569);class Y extends f.C{constructor(e,t){let{callData:a,callGasLimit:n,docsPath:r,factory:i,factoryData:s,initCode:o,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,paymaster:f,paymasterAndData:l,paymasterData:p,paymasterPostOpGasLimit:m,paymasterVerificationGasLimit:y,preVerificationGas:g,sender:b,signature:v,verificationGasLimit:h}=t;const w=(0,Q.aO)({callData:a,callGasLimit:n,factory:i,factoryData:s,initCode:o,maxFeePerGas:"undefined"!==typeof c&&"".concat((0,$.Q)(c)," gwei"),maxPriorityFeePerGas:"undefined"!==typeof u&&"".concat((0,$.Q)(u)," gwei"),nonce:d,paymaster:f,paymasterAndData:l,paymasterData:p,paymasterPostOpGasLimit:m,paymasterVerificationGasLimit:y,preVerificationGas:g,sender:b,signature:v,verificationGasLimit:h});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",w].filter(Boolean),name:"UserOperationExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class X extends f.C{constructor(e){let{hash:t}=e;super('User Operation receipt with hash "'.concat(t,'" could not be found. The User Operation may not have been processed yet.'),{name:"UserOperationReceiptNotFoundError"})}}class ee extends f.C{constructor(e){let{hash:t}=e;super('User Operation with hash "'.concat(t,'" could not be found.'),{name:"UserOperationNotFoundError"})}}class te extends f.C{constructor(e){let{hash:t}=e;super('Timed out while waiting for User Operation with hash "'.concat(t,'" to be confirmed.'),{name:"WaitForUserOperationReceiptTimeoutError"})}}const ae=[y,D,L,F,B,j,T,q,R,H,_];const ne=["calls","docsPath"];function re(e,t){let{calls:a,docsPath:r}=t,i=(0,d.A)(t,ne);const s=(()=>{const t=function(e,t){const a=(e.details||"").toLowerCase();if(m.message.test(a))return new m({cause:e});if(g.message.test(a))return new g({cause:e});if(b.message.test(a))return new b({cause:e});if(v.message.test(a))return new v({cause:e});if(h.message.test(a))return new h({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(w.message.test(a))return new w({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(P.message.test(a))return new P({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode,sender:t.sender});if(x.message.test(a))return new x({cause:e});if(G.message.test(a))return new G({cause:e});if(A.message.test(a))return new A({cause:e,nonce:t.nonce});if(O.message.test(a))return new O({cause:e});if(C.message.test(a))return new C({cause:e});if(I.message.test(a))return new I({cause:e});if(L.message.test(a))return new L({cause:e});if(S.message.test(a))return new S({cause:e});if(U.message.test(a))return new U({cause:e});if(V.message.test(a))return new V({cause:e});if(k.message.test(a))return new k({cause:e});if(E.message.test(a))return new E({cause:e,factory:t.factory,factoryData:t.factoryData,initCode:t.initCode});if(M.message.test(a))return new M({cause:e});if(z.message.test(a))return new z({cause:e});if(K.message.test(a))return new K({cause:e});if(N.message.test(a))return new N({cause:e});if(J.message.test(a))return new J({cause:e});if(Z.message.test(a))return new Z({cause:e});const n=e.walk(e=>ae.some(t=>t.code===e.code));if(n){if(n.code===y.code)return new y({cause:e,data:n.data,message:n.details});if(n.code===D.code)return new D({cause:e});if(n.code===L.code)return new L({cause:e});if(n.code===F.code)return new F({cause:e});if(n.code===B.code)return new B({cause:e});if(n.code===j.code)return new j({cause:e});if(n.code===T.code)return new T({cause:e});if(n.code===q.code)return new q({cause:e});if(n.code===R.code)return new R({cause:e});if(n.code===H.code)return new H({cause:e});if(n.code===_.code)return new _({cause:e})}return new W({cause:e})}(e,i);if(a&&t instanceof y){const e=function(e){let t;return e.walk(e=>{var a;const n=e;if("string"===typeof n.data||"string"===typeof(null===(a=n.data)||void 0===a?void 0:a.revertData)||!(n instanceof f.C)&&"string"===typeof n.message){var r,i,s;const e=null===(r=(i=(null===(s=n.data)||void 0===s?void 0:s.revertData)||n.data||n.message).match)||void 0===r?void 0:r.call(i,/(0x[A-Za-z0-9]*)/);if(e)return t=e[1],!0}return!1}),t}(t),n=null===a||void 0===a?void 0:a.filter(e=>e.abi);if(e&&n.length>0)return function(e){const{calls:t,revertData:a}=e,{abi:n,functionName:r,args:i,to:s}=(()=>{const e=null===t||void 0===t?void 0:t.filter(e=>Boolean(e.abi));if(1===e.length)return e[0];const n=e.filter(e=>{try{return Boolean((0,p.W)({abi:e.abi,data:a}))}catch(t){return!1}});return 1===n.length?n[0]:{abi:[],functionName:e.reduce((e,t)=>"".concat(e?"".concat(e," | "):"").concat(t.functionName),""),args:void 0,to:void 0}})(),o="0x"===a?new l.rR({functionName:r}):new l.M({abi:n,data:a,functionName:r});return new l.bG(o,{abi:n,args:i,contractAddress:s,functionName:r})}({calls:n,revertData:e})}return t})();return new Y(s,(0,n.A)({docsPath:r},i))}var ie=a(84117),se=a(17143);function oe(e){const t={};var a;return"undefined"!==typeof e.callData&&(t.callData=e.callData),"undefined"!==typeof e.callGasLimit&&(t.callGasLimit=(0,ie.cK)(e.callGasLimit)),"undefined"!==typeof e.factory&&(t.factory=e.factory),"undefined"!==typeof e.factoryData&&(t.factoryData=e.factoryData),"undefined"!==typeof e.initCode&&(t.initCode=e.initCode),"undefined"!==typeof e.maxFeePerGas&&(t.maxFeePerGas=(0,ie.cK)(e.maxFeePerGas)),"undefined"!==typeof e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=(0,ie.cK)(e.maxPriorityFeePerGas)),"undefined"!==typeof e.nonce&&(t.nonce=(0,ie.cK)(e.nonce)),"undefined"!==typeof e.paymaster&&(t.paymaster=e.paymaster),"undefined"!==typeof e.paymasterAndData&&(t.paymasterAndData=e.paymasterAndData||"0x"),"undefined"!==typeof e.paymasterData&&(t.paymasterData=e.paymasterData),"undefined"!==typeof e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=(0,ie.cK)(e.paymasterPostOpGasLimit)),"undefined"!==typeof e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=(0,ie.cK)(e.paymasterVerificationGasLimit)),"undefined"!==typeof e.preVerificationGas&&(t.preVerificationGas=(0,ie.cK)(e.preVerificationGas)),"undefined"!==typeof e.sender&&(t.sender=e.sender),"undefined"!==typeof e.signature&&(t.signature=e.signature),"undefined"!==typeof e.verificationGasLimit&&(t.verificationGasLimit=(0,ie.cK)(e.verificationGasLimit)),"undefined"!==typeof e.authorization&&(t.eip7702Auth={address:(a=e.authorization).address,chainId:(0,ie.cK)(a.chainId),nonce:(0,ie.cK)(a.nonce),r:a.r?(0,ie.cK)(BigInt(a.r),{size:32}):(0,se.eV)("0x",{size:32}),s:a.s?(0,ie.cK)(BigInt(a.s),{size:32}):(0,se.eV)("0x",{size:32}),yParity:a.yParity?(0,ie.cK)(a.yParity,{size:1}):(0,se.eV)("0x",{size:32})}),t}var ce=a(6816),ue=a(1954);var de=a(12210),fe=a(27908),le=a(52620),pe=a(67962);const me=["chainId","entryPointAddress","context"],ye=["paymasterPostOpGasLimit","paymasterVerificationGasLimit"];async function ge(e,t){var a,r,i;const{chainId:s,entryPointAddress:o,context:c}=t,u=oe((0,d.A)(t,me)),f=await e.request({method:"pm_getPaymasterData",params:[(0,n.A)((0,n.A)({},u),{},{callGasLimit:null!==(a=u.callGasLimit)&&void 0!==a?a:"0x0",verificationGasLimit:null!==(r=u.verificationGasLimit)&&void 0!==r?r:"0x0",preVerificationGas:null!==(i=u.preVerificationGas)&&void 0!==i?i:"0x0"}),o,(0,ie.cK)(s),c]}),{paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:p}=f,m=(0,d.A)(f,ye);return(0,n.A)((0,n.A)((0,n.A)({},m),l&&{paymasterPostOpGasLimit:(0,pe.uU)(l)}),p&&{paymasterVerificationGasLimit:(0,pe.uU)(p)})}const be=["chainId","entryPointAddress","context"],ve=["paymasterPostOpGasLimit","paymasterVerificationGasLimit"];async function he(e,t){var a,r,i;const{chainId:s,entryPointAddress:o,context:c}=t,u=oe((0,d.A)(t,be)),f=await e.request({method:"pm_getPaymasterStubData",params:[(0,n.A)((0,n.A)({},u),{},{callGasLimit:null!==(a=u.callGasLimit)&&void 0!==a?a:"0x0",verificationGasLimit:null!==(r=u.verificationGasLimit)&&void 0!==r?r:"0x0",preVerificationGas:null!==(i=u.preVerificationGas)&&void 0!==i?i:"0x0"}),o,(0,ie.cK)(s),c]}),{paymasterPostOpGasLimit:l,paymasterVerificationGasLimit:p}=f,m=(0,d.A)(f,ve);return(0,n.A)((0,n.A)((0,n.A)({},m),l&&{paymasterPostOpGasLimit:(0,pe.uU)(l)}),p&&{paymasterVerificationGasLimit:(0,pe.uU)(p)})}const we=["isFinal","sponsor"],Pe=["factory","fees","gas","paymaster","nonce","signature","authorization"];async function xe(e,t){var a;const r=t,{account:u=e.account,parameters:f=Pe,stateOverride:l}=r;if(!u)throw new o.T;const p=(0,s.J)(u),m=e,y=null!==(a=r.paymaster)&&void 0!==a?a:null===m||void 0===m?void 0:m.paymaster,g="string"===typeof y?y:void 0,{getPaymasterStubData:b,getPaymasterData:v}=(()=>{if(!0===y)return{getPaymasterStubData:e=>(0,c.T)(m,he,"getPaymasterStubData")(e),getPaymasterData:e=>(0,c.T)(m,ge,"getPaymasterData")(e)};if("object"===typeof y){const{getPaymasterStubData:e,getPaymasterData:t}=y;return{getPaymasterStubData:t&&e?e:t,getPaymasterData:t&&e?t:void 0}}return{getPaymasterStubData:void 0,getPaymasterData:void 0}})(),h=r.paymasterContext?r.paymasterContext:null===m||void 0===m?void 0:m.paymasterContext;let w=(0,n.A)((0,n.A)({},r),{},{paymaster:g,sender:p.address});const[P,x,G,O,A]=await Promise.all([(async()=>r.calls?p.encodeCalls(r.calls.map(e=>{const t=e;return t.abi?{data:(0,fe.p)(t),to:t.to,value:t.value}:t})):r.callData)(),(async()=>{if(!f.includes("factory"))return;if(r.initCode)return{initCode:r.initCode};if(r.factory&&r.factoryData)return{factory:r.factory,factoryData:r.factoryData};const{factory:e,factoryData:t}=await p.getFactoryArgs();return"0.6"===p.entryPoint.version?{initCode:e&&t?(0,le.xW)([e,t]):void 0}:{factory:e,factoryData:t}})(),(async t=>{if(f.includes("fees")){if("bigint"===typeof r.maxFeePerGas&&"bigint"===typeof r.maxPriorityFeePerGas)return w;if(null!==m&&void 0!==m&&null!==(t=m.userOperation)&&void 0!==t&&t.estimateFeesPerGas){const e=await m.userOperation.estimateFeesPerGas({account:p,bundlerClient:m,userOperation:w});return(0,n.A)((0,n.A)({},w),e)}try{var a;const t=null!==(a=m.client)&&void 0!==a?a:e,n=await(0,c.T)(t,de._,"estimateFeesPerGas")({chain:t.chain,type:"eip1559"});return{maxFeePerGas:"bigint"===typeof r.maxFeePerGas?r.maxFeePerGas:BigInt(2n*n.maxFeePerGas),maxPriorityFeePerGas:"bigint"===typeof r.maxPriorityFeePerGas?r.maxPriorityFeePerGas:BigInt(2n*n.maxPriorityFeePerGas)}}catch(i){return}}})(),(async()=>{if(f.includes("nonce"))return"bigint"===typeof r.nonce?r.nonce:p.getNonce()})(),(async()=>{if(f.includes("authorization")){if("object"===typeof r.authorization)return r.authorization;if(p.authorization&&!await p.isDeployed()){const e=await async function(e,t){var a,n,r;const{account:u=e.account,chainId:d,nonce:f}=t;if(!u)throw new o.T({docsPath:"/docs/eip7702/prepareAuthorization"});const l=(0,s.J)(u),p=(()=>{if(t.executor)return"self"===t.executor?t.executor:(0,s.J)(t.executor)})(),m={address:null!==(a=t.contractAddress)&&void 0!==a?a:t.address,chainId:d,nonce:f};return"undefined"===typeof m.chainId&&(m.chainId=null!==(n=null===(r=e.chain)||void 0===r?void 0:r.id)&&void 0!==n?n:await(0,c.T)(e,i.T,"getChainId")({})),"undefined"===typeof m.nonce&&(m.nonce=await(0,c.T)(e,ue.y,"getTransactionCount")({address:l.address,blockTag:"pending"}),("self"===p||null!==p&&void 0!==p&&p.address&&(0,ce.h)(p.address,l.address))&&(m.nonce+=1)),m}(p.client,p.authorization);return(0,n.A)((0,n.A)({},e),{},{r:"0xfffffffffffffffffffffffffffffff000000000000000000000000000000000",s:"0x7aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",yParity:1})}}})()]);let C;async function D(){if(C)return C;if(e.chain)return e.chain.id;const t=await(0,c.T)(e,i.T,"getChainId")({});return C=t,C}"undefined"!==typeof P&&(w.callData=P),"undefined"!==typeof x&&(w=(0,n.A)((0,n.A)({},w),x)),"undefined"!==typeof G&&(w=(0,n.A)((0,n.A)({},w),G)),"undefined"!==typeof O&&(w.nonce=O),"undefined"!==typeof A&&(w.authorization=A),f.includes("signature")&&("undefined"!==typeof r.signature?w.signature=r.signature:w.signature=await p.getStubSignature(w)),"0.6"!==p.entryPoint.version||w.initCode||(w.initCode="0x");let I=!1;if(f.includes("paymaster")&&b&&!g&&!r.paymasterAndData){const e=await b((0,n.A)({chainId:await D(),entryPointAddress:p.entryPoint.address,context:h},w)),{isFinal:t=!1,sponsor:a}=e,r=(0,d.A)(e,we);I=t,w=(0,n.A)((0,n.A)({},w),r)}if("0.6"!==p.entryPoint.version||w.paymasterAndData||(w.paymasterAndData="0x"),f.includes("gas")){var L;if(null!==(L=p.userOperation)&&void 0!==L&&L.estimateGas){const e=await p.userOperation.estimateGas(w);w=(0,n.A)((0,n.A)({},w),e)}if("undefined"===typeof w.callGasLimit||"undefined"===typeof w.preVerificationGas||"undefined"===typeof w.verificationGasLimit||w.paymaster&&"undefined"===typeof w.paymasterPostOpGasLimit||w.paymaster&&"undefined"===typeof w.paymasterVerificationGasLimit){var S,U,F,B,V;const e=await(0,c.T)(m,Ge,"estimateUserOperationGas")((0,n.A)((0,n.A)({account:p,callGasLimit:0n,preVerificationGas:0n,verificationGasLimit:0n,stateOverride:l},w.paymaster?{paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n}:{}),w));w=(0,n.A)((0,n.A)({},w),{},{callGasLimit:null!==(S=w.callGasLimit)&&void 0!==S?S:e.callGasLimit,preVerificationGas:null!==(U=w.preVerificationGas)&&void 0!==U?U:e.preVerificationGas,verificationGasLimit:null!==(F=w.verificationGasLimit)&&void 0!==F?F:e.verificationGasLimit,paymasterPostOpGasLimit:null!==(B=w.paymasterPostOpGasLimit)&&void 0!==B?B:e.paymasterPostOpGasLimit,paymasterVerificationGasLimit:null!==(V=w.paymasterVerificationGasLimit)&&void 0!==V?V:e.paymasterVerificationGasLimit})}}if(f.includes("paymaster")&&v&&!g&&!r.paymasterAndData&&!I){const e=await v((0,n.A)({chainId:await D(),entryPointAddress:p.entryPoint.address,context:h},w));w=(0,n.A)((0,n.A)({},w),e)}return delete w.calls,delete w.parameters,delete w.paymasterContext,"string"!==typeof w.paymaster&&delete w.paymaster,w}async function Ge(e,t){const{account:a=e.account,entryPointAddress:r,stateOverride:i}=t;if(!a&&!t.sender)throw new o.T;const d=a?(0,s.J)(a):void 0,f=(0,u.yH)(i),l=d?await(0,c.T)(e,xe,"prepareUserOperation")((0,n.A)((0,n.A)({},t),{},{parameters:["authorization","factory","nonce","paymaster","signature"]})):t;try{var p;const t=[oe(l),null!==r&&void 0!==r?r:null===d||void 0===d||null===(p=d.entryPoint)||void 0===p?void 0:p.address];return function(e){const t={};return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),t}(await e.request({method:"eth_estimateUserOperationGas",params:f?[...t,f]:[...t]}))}catch(m){const e=t.calls;throw re(m,(0,n.A)((0,n.A)({},l),e?{calls:e}:{}))}}function Oe(e){const t=(0,n.A)({},e);return e.callGasLimit&&(t.callGasLimit=BigInt(e.callGasLimit)),e.maxFeePerGas&&(t.maxFeePerGas=BigInt(e.maxFeePerGas)),e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=BigInt(e.maxPriorityFeePerGas)),e.nonce&&(t.nonce=BigInt(e.nonce)),e.paymasterPostOpGasLimit&&(t.paymasterPostOpGasLimit=BigInt(e.paymasterPostOpGasLimit)),e.paymasterVerificationGasLimit&&(t.paymasterVerificationGasLimit=BigInt(e.paymasterVerificationGasLimit)),e.preVerificationGas&&(t.preVerificationGas=BigInt(e.preVerificationGas)),e.verificationGasLimit&&(t.verificationGasLimit=BigInt(e.verificationGasLimit)),t}var Ae=a(46907),Ce=a(91813);async function De(e,t){let{hash:a}=t;const r=await e.request({method:"eth_getUserOperationReceipt",params:[a]},{dedupe:!0});if(!r)throw new X({hash:a});return function(e){const t=(0,n.A)({},e);return e.actualGasCost&&(t.actualGasCost=BigInt(e.actualGasCost)),e.actualGasUsed&&(t.actualGasUsed=BigInt(e.actualGasUsed)),e.logs&&(t.logs=e.logs.map(e=>(0,Ae.e)(e))),e.receipt&&(t.receipt=(0,Ce.uL)(t.receipt)),t}(r)}var Ie=a(73889),Le=a(24920),Se=a(23512);function Ue(e){return{estimateUserOperationGas:t=>Ge(e,t),getChainId:()=>(0,i.T)(e),getSupportedEntryPoints:()=>function(e){return e.request({method:"eth_supportedEntryPoints"})}(e),getUserOperation:t=>async function(e,t){let{hash:a}=t;const n=await e.request({method:"eth_getUserOperationByHash",params:[a]},{dedupe:!0});if(!n)throw new ee({hash:a});const{blockHash:r,blockNumber:i,entryPoint:s,transactionHash:o,userOperation:c}=n;return{blockHash:r,blockNumber:BigInt(i),entryPoint:s,transactionHash:o,userOperation:Oe(c)}}(e,t),getUserOperationReceipt:t=>De(e,t),prepareUserOperation:t=>xe(e,t),sendUserOperation:t=>async function(e,t){var a;const{account:r=e.account,entryPointAddress:i}=t;if(!r&&!t.sender)throw new o.T;const u=r?(0,s.J)(r):void 0,d=u?await(0,c.T)(e,xe,"prepareUserOperation")(t):t,f=t.signature||await(null===u||void 0===u||null===(a=u.signUserOperation)||void 0===a?void 0:a.call(u,d)),l=oe((0,n.A)((0,n.A)({},d),{},{signature:f}));try{var p;return await e.request({method:"eth_sendUserOperation",params:[l,null!==i&&void 0!==i?i:null===u||void 0===u||null===(p=u.entryPoint)||void 0===p?void 0:p.address]},{retryCount:0})}catch(m){const e=t.calls;throw re(m,(0,n.A)((0,n.A)((0,n.A)({},d),e?{calls:e}:{}),{},{signature:f}))}}(e,t),waitForUserOperationReceipt:t=>function(e,t){const{hash:a,pollingInterval:n=e.pollingInterval,retryCount:r,timeout:i=12e4}=t;let s=0;const o=(0,Se.A)(["waitForUserOperationReceipt",e.uid,a]);return new Promise((t,u)=>{const d=(0,Ie.lB)(o,{resolve:t,reject:u},t=>{const o=e=>{u(),e(),d()},u=(0,Le.w)(async()=>{r&&s>=r&&o(()=>t.reject(new te({hash:a})));try{const n=await(0,c.T)(e,De,"getUserOperationReceipt")({hash:a});o(()=>t.resolve(n))}catch(n){const e=n;"UserOperationReceiptNotFoundError"!==e.name&&o(()=>t.reject(e))}s++},{emitOnBegin:!0,interval:n});return i&&setTimeout(()=>o(()=>t.reject(new te({hash:a}))),i),u})})}(e,t)}}function Fe(e){var t;const{client:a,key:i="bundler",name:s="Bundler Client",paymaster:o,paymasterContext:c,transport:u,userOperation:d}=e;return Object.assign((0,r.U)((0,n.A)((0,n.A)({},e),{},{chain:null!==(t=e.chain)&&void 0!==t?t:null===a||void 0===a?void 0:a.chain,key:i,name:s,transport:u,type:"bundlerClient"})),{client:a,paymaster:o,paymasterContext:c,userOperation:d}).extend(Ue)}},62657:(e,t,a)=>{a.d(t,{u:()=>i});var n=a(51702),r=a(84117);function i(e){const{r:t,s:a}=n.secp256k1.Signature.fromCompact(e.slice(2,130)),i=Number("0x".concat(e.slice(130))),[s,o]=(()=>{if(0===i||1===i)return[void 0,i];if(27===i)return[BigInt(i),0];if(28===i)return[BigInt(i),1];throw new Error("Invalid yParityOrV value")})();return"undefined"!==typeof s?{r:(0,r.cK)(t,{size:32}),s:(0,r.cK)(a,{size:32}),v:s,yParity:o}:{r:(0,r.cK)(t,{size:32}),s:(0,r.cK)(a,{size:32}),yParity:o}}},63995:(e,t,a)=>{a.d(t,{c:()=>x});var n=a(21627);class r extends n.C{constructor(e){super("Call bundle failed with status: ".concat(e.statusCode),{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}var i=a(48083),s=a(73889),o=a(24920),c=a(78628),u=a(54105),d=a(23512),f=a(89379),l=a(53986),p=a(36220),m=a(48604),y=a(67962),g=a(91813),b=a(84117);const v="0x5792579257925792579257925792579257925792579257925792579257925792",h=(0,b.cK)(0,{size:32});const w=["atomic","chainId","receipts","version"];async function P(e,t){var a;const n=await async function(t){if(t.endsWith(v.slice(2))){const a=(0,m.B)((0,p.iN)(t,-64,-32)),n=(0,p.iN)(t,0,-64).slice(2).match(/.{1,64}/g),r=await Promise.all(n.map(t=>h.slice(2)!==t?e.request({method:"eth_getTransactionReceipt",params:["0x".concat(t)]},{dedupe:!0}):void 0)),i=r.some(e=>null===e)?100:r.every(e=>"0x1"===(null===e||void 0===e?void 0:e.status))?200:r.every(e=>"0x0"===(null===e||void 0===e?void 0:e.status))?500:600;return{atomic:!1,chainId:(0,y.ME)(a),receipts:r.filter(Boolean),status:i,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[t]})}(t.id),{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0"}=n,c=(0,l.A)(n,w),[u,d]=(()=>{const e=c.status;return e>=100&&e<200?["pending",e]:e>=200&&e<300?["success",e]:e>=300&&e<700?["failure",e]:"CONFIRMED"===e?["success",200]:"PENDING"===e?["pending",100]:[void 0,e]})();return(0,f.A)((0,f.A)({},c),{},{atomic:r,chainId:i?(0,y.ME)(i):void 0,receipts:null!==(a=null===s||void 0===s?void 0:s.map(e=>(0,f.A)((0,f.A)({},e),{},{blockNumber:(0,y.uU)(e.blockNumber),gasUsed:(0,y.uU)(e.gasUsed),status:g.Lj[e.status]})))&&void 0!==a?a:[],statusCode:d,status:u,version:o})}async function x(e,t){const{id:a,pollingInterval:n=e.pollingInterval,status:f=e=>{let{statusCode:t}=e;return 200===t||t>=300},retryCount:l=4,retryDelay:p=e=>{let{count:t}=e;return 200*(1<<t)},timeout:m=6e4,throwOnFailure:y=!1}=t,g=(0,d.A)(["waitForCallsStatus",e.uid,a]),{promise:b,resolve:v,reject:h}=(0,c.Y)();let w;const x=(0,s.lB)(g,{resolve:v,reject:h},t=>{const s=(0,o.w)(async()=>{const n=e=>{clearTimeout(w),s(),e(),x()};try{const s=await(0,u.b)(async()=>{const t=await(0,i.T)(e,P,"getCallsStatus")({id:a});if(y&&"failure"===t.status)throw new r(t);return t},{retryCount:l,delay:p});if(!f(s))return;n(()=>t.resolve(s))}catch(o){n(()=>t.reject(o))}},{interval:n,emitOnBegin:!0});return s});return w=m?setTimeout(()=>{x(),clearTimeout(w),h(new G({id:a}))},m):void 0,await b}class G extends n.C{constructor(e){let{id:t}=e;super('Timed out while waiting for call bundle with id "'.concat(t,'" to be confirmed.'),{name:"WaitForCallsStatusTimeoutError"})}}},67375:(e,t,a)=>{a.d(t,{q:()=>b});var n=a(89379),r=a(53986),i=a(10936),s=a(97376),o=a(93399),c=a(48083),u=(a(1954),a(56844));function d(e){const{source:t}=e,a=new Map,n=new u.A(8192),r=new Map,i=e=>{let{address:t,chainId:a}=e;return"".concat(t,".").concat(a)};return{async consume(e){let{address:a,chainId:r,client:s}=e;const o=i({address:a,chainId:r}),c=this.get({address:a,chainId:r,client:s});this.increment({address:a,chainId:r});const u=await c;return await t.set({address:a,chainId:r},u),n.set(o,u),u},async increment(e){var t;let{address:n,chainId:r}=e;const s=i({address:n,chainId:r}),o=null!==(t=a.get(s))&&void 0!==t?t:0;a.set(s,o+1)},async get(e){var s;let{address:o,chainId:c,client:u}=e;const d=i({address:o,chainId:c});let f=r.get(d);f||(f=(async()=>{try{var e;const a=await t.get({address:o,chainId:c,client:u}),r=null!==(e=n.get(d))&&void 0!==e?e:0;return r>0&&a<=r?r+1:(n.delete(d),a)}finally{this.reset({address:o,chainId:c})}})(),r.set(d,f));return(null!==(s=a.get(d))&&void 0!==s?s:0)+await f},reset(e){let{address:t,chainId:n}=e;const s=i({address:t,chainId:n});a.delete(s),r.delete(s)}}}const f="0x6492649264926492649264926492649264926492649264926492649264926492";var l=a(31376),p=a(52620),m=a(37131);function y(e){const{address:t,data:a,signature:n,to:r="hex"}=e,i=(0,p.aP)([(0,l.h)([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,a,n]),f]);return"hex"===r?i:(0,m.aT)(i)}const g=["extend","nonceKeyManager"];async function b(e){const{extend:t,nonceKeyManager:a=d({source:{get:()=>Date.now(),set(){}}})}=e,u=(0,r.A)(e,g);let f=!1;const l=await e.getAddress();return(0,n.A)((0,n.A)((0,n.A)((0,n.A)({},t),u),{},{address:l,async getFactoryArgs(){return"isDeployed"in this&&await this.isDeployed()?{factory:void 0,factoryData:void 0}:e.getFactoryArgs()},async getNonce(t){var r;const s=null!==(r=null===t||void 0===t?void 0:t.key)&&void 0!==r?r:BigInt(await a.consume({address:l,chainId:e.client.chain.id,client:e.client}));if(e.getNonce)return await e.getNonce((0,n.A)((0,n.A)({},t),{},{key:s}));return await(0,o.J)(e.client,{abi:(0,i.U)(["function getNonce(address, uint192) pure returns (uint256)"]),address:e.entryPoint.address,functionName:"getNonce",args:[l,s]})},async isDeployed(){if(f)return!0;const t=await(0,c.T)(e.client,s.Q,"getCode")({address:l});return f=Boolean(t),f}},e.sign?{async sign(t){const[{factory:a,factoryData:n},r]=await Promise.all([this.getFactoryArgs(),e.sign(t)]);return a&&n?y({address:a,data:n,signature:r}):r}}:{}),{},{async signMessage(t){const[{factory:a,factoryData:n},r]=await Promise.all([this.getFactoryArgs(),e.signMessage(t)]);return a&&n&&"0x7702"!==a?y({address:a,data:n,signature:r}):r},async signTypedData(t){const[{factory:a,factoryData:n},r]=await Promise.all([this.getFactoryArgs(),e.signTypedData(t)]);return a&&n&&"0x7702"!==a?y({address:a,data:n,signature:r}):r},type:"smart"})}},85668:(e,t,a)=>{a.d(t,{l:()=>s});var n=a(89379),r=a(60993),i=a(27182);function s(e){const{key:t="public",name:a="Public Client"}=e;return(0,r.U)((0,n.A)((0,n.A)({},e),{},{key:t,name:a,type:"publicClient"})).extend(i.$)}},94366:(e,t,a)=>{a.d(t,{s9:()=>g});var n=a(24726),r=a(3906),i=a(72927);const s=(0,i.D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),o=s.create(BigInt("-3")),c=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),u=(0,r.s)({a:o,b:c,Fp:s,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},n.sc),d=(0,i.D0)(BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff")),f=d.create(BigInt("-3")),l=BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),p=((0,r.s)({a:f,b:l,Fp:d,n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),h:BigInt(1),lowS:!1},n.qt),(0,i.D0)(BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"))),m=p.create(BigInt("-3")),y=BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),g=((0,r.s)({a:m,b:y,Fp:p,n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650"),h:BigInt(1),lowS:!1,allowedPrivateKeyLengths:[130,131,132]},n.Zf),u)}}]);
//# sourceMappingURL=1025.c051a332.chunk.js.map